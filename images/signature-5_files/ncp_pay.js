!function(I){var g={};function C(n){if(g[n])return g[n].exports;var t=g[n]={i:n,l:!1,exports:{}};return I[n].call(t.exports,t,t.exports,C),t.l=!0,t.exports}C.m=I,C.c=g,C.d=function(I,g,n){C.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:n})},C.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},C.t=function(I,g){if(1&g&&(I=C(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var t in I)C.d(n,t,function(g){return I[g]}.bind(null,t));return n},C.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return C.d(g,"a",g),g},C.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},C.p="",C(C.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('\n\n/*\n * ncp_pay.js 2017. 7. 12.\n * Copyright 2017 NHN Ent. All rights Reserved.\n * NHN Ent PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.\n */\n\n/**\n * @author gyutae choi\n * @email gtchoi@nhnent.com\n */\n\n/**\n * IE를 위한 polymofy 수정\n */\nif (!String.prototype.includes) {\n    String.prototype.includes = function (search, start) {\n        \'use strict\';\n\n        if (typeof start !== \'number\') {\n            start = 0;\n        }\n\n        if (start + search.length > this.length) {\n            return false;\n        } else {\n            return this.indexOf(search, start) !== -1;\n        }\n    };\n}\n\nwindow.NCPPay = function () {\n    var ERROR_CODE = {\n        COMMON_ERROR: "서버접속이 원할하지 않습니다. 잠시 후 재시도 해주세요.",\n        EMPTY_PAY_REDIRECT_URL: "NCP PAY: payRedirectUrl 값이 없습니다.",\n        METHOD_NOT_ALLOWED: "405 METHOD_NOT_ALLOWED",\n        INVALID_PG_TYPE: function INVALID_PG_TYPE(pgType) {\n            return "NCP PAY : PG type이 유효하지 않습니다. (KCP, INICIS, PAYCO, LIIVMATE, KAKAO PAY, NAVER_EASY_PAY, LG_U_PLUS, TOSS_PAYMENTS, CHAI, SMARTRO_PAY)중 1개를 사용하세요. 현재 설정된 pgType" + " : " + pgType;\n        },\n        KCP_LAYER_POPUP_ERROR: function KCP_LAYER_POPUP_ERROR(resultCode, message) {\n            return "KCP 결제 인증 에러. result code : " + resultCode + " message : " + message;\n        }\n    };\n    var URI = {\n        RESERVATION_URI: \'/payments/reserve\',\n        RECURRING_PAYMENT_KEY_RESERVE_URI: \'/payments/reserve/recurring-payment/key\',\n        RECURRING_PAYMENT_KEY_CONFIRM_URI: \'/payments/confirm-redirect/recurring-payment/key\'\n    };\n\n    var PG_TYPES = [\'KCP\', \'INICIS\', \'PAYCO\', \'NAVER_PAY\', \'LIIVMATE\', \'KAKAO_PAY\', \'NAVER_EASY_PAY\', \'LG_U_PLUS\', \'TOSS_PAYMENTS\', \'CHAI\', \'SMARTRO_PAY\', \'NONE\'];\n\n    var _profile = Object({"API_GATEWAY_URL":"https://api.e-ncp.com","REDIRECT_URL":"https://api.e-ncp.com","INICIS_RESERVATION_IFRAME_URL":"https://api.e-ncp.com/inicis.html","NAVER_EASY_PAY_MODE":"production","CHAI_MODE":"prod","SMARTRO_PAY_MODE":"REAL"});\n    var _platform;\n    var _clientId;\n    var _clientReturnUrl;\n    var _accessToken;\n    var _version = "1.0";\n    var _currentPgType; // serializeKcpForm()에서 사용\n    var _orderSheetNo;\n    var _doubleCallBlocker = false;\n    var _naverParams;\n    var _confirmUrl;\n    var _recurringPaymentRedirectUrl;\n\n    var _isMobile = function _isMobile() {\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || _platform != \'\' && _platform != \'PC\'\n        );\n    };\n\n    var _validReservation = function _validReservation(dataJson) {\n        if (PG_TYPES.indexOf(dataJson.pgType) == -1) {\n            throw new Error(ERROR_CODE.INVALID_PG_TYPE(dataJson));\n        }\n\n        // TODO : confirmurl 널체크?\n    };\n\n    var _validConfirm = function _validConfirm(dataJson) {\n        if (PG_TYPES.indexOf(dataJson.pgType) == -1) {\n            throw new Error(ERROR_CODE.INVALID_PG_TYPE(dataJson));\n        }\n    };\n\n    var _getReservationUrl = function _getReservationUrl() {\n        return (_profile.API_GATEWAY_URL == null ? "" : _profile.API_GATEWAY_URL) + URI.RESERVATION_URI;\n    };\n\n    var _getRecurringPaymentReserveUrl = function _getRecurringPaymentReserveUrl() {\n        return (_profile.API_GATEWAY_URL == null ? "" : _profile.API_GATEWAY_URL) + URI.RECURRING_PAYMENT_KEY_RESERVE_URI;\n    };\n\n    var _getRecurringPaymentConfirmUrl = function _getRecurringPaymentConfirmUrl() {\n        return (_profile.API_GATEWAY_URL == null ? "" : _profile.API_GATEWAY_URL) + URI.RECURRING_PAYMENT_KEY_CONFIRM_URI;\n    };\n\n    var _getConfirmUrlWithOrderSheetNo = function _getConfirmUrlWithOrderSheetNo() {\n        return _confirmUrl;\n    };\n\n    var _showKcpLayer = function _showKcpLayer(response) {\n        var formData = response.extraData;\n        var form = _createPayForm(formData);\n\n        var input = document.createElement(\'input\');\n        input.name = \'disp_tax_yn\';\n        input.value = \'Y\';\n        form.appendChild(input);\n        window.KCP_Pay_Execute(form); // payplus_web.jsp가 선언한 함수\n    };\n\n    var _showRecurringPaymentKcpLayer = function _showRecurringPaymentKcpLayer(response) {\n        var formData = response.extraData;\n        var form = _createPayForm(formData);\n        window.KCP_Pay_Execute(form); // payplus_web.jsp가 선언한 함수\n    };\n\n    var _setOrderSheetNo = function _setOrderSheetNo(orderSheetNo) {\n        _orderSheetNo = orderSheetNo;\n    };\n\n    var _createPayForm = function _createPayForm(formData) {\n        var form = document.createElement(\'form\');\n        for (var key in formData) {\n            if (key !== \'good_info\') {\n                var input = document.createElement(\'input\');\n                input.name = \'\' + key;\n                input.value = \'\' + formData[key];\n                form.appendChild(input);\n            }\n        }\n\n        //server에서 만들어즌 SEPARATOR 값이 동작하지 않아서 넣어줬다\n        if (formData.escw_used == \'Y\') {\n            var RECORD_SEPARATOR = String.fromCharCode(30);\n            var UNIT_SEPARATOR = String.fromCharCode(31);\n            if (formData.good_info) {\n                var good_infos = formData.good_info.replace(/\\^T/gi, RECORD_SEPARATOR);\n                good_infos = good_infos.replace(/\\^N/gi, UNIT_SEPARATOR);\n                var input = document.createElement(\'input\');\n                input.name = \'good_info\';\n                input.value = \'\' + good_infos;\n                form.appendChild(input);\n            }\n        }\n\n        return form;\n    };\n\n    var _goInicisProcForPc = function _goInicisProcForPc(resp) {\n        var element = document.getElementById(\'inicisIframe\');\n        if (element) {\n            element.parentNode.removeChild(element);\n        }\n        var orderSheetNo = encodeURIComponent(_orderSheetNo);\n        var iframeUrl = _profile.INICIS_RESERVATION_IFRAME_URL + \'?orderSheetNo=\' + orderSheetNo;\n        var scrollHeight = document.body.scrollHeight;\n        var tempDiv = document.createElement(\'div\');\n        tempDiv.innerHTML = \'<iframe frameborder="0" scrolling="no" sandbox="allow-scripts allow-top-navigation allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-top-navigation-by-user-activation" allowtransparency="true" id="inicisIframe" style="border: none; margin: 0px; padding: 0px; position:fixed; box-sizing:border-box; width:100%; height:100%; top:0px"></iframe>\';\n\n        document.body.appendChild(tempDiv.firstChild);\n        document.getElementById(\'inicisIframe\').setAttribute(\'src\', iframeUrl);\n    };\n\n    var _closeIframe = function _closeIframe(resp) {\n        var element = document.getElementById(\'inicisIframe\');\n        if (element) {\n            element.parentNode.removeChild(element);\n        }\n    };\n\n    var _goInicisProcForMobile = function _goInicisProcForMobile(resp) {\n        var formData = resp.extraData;\n        var form = document.createElement(\'form\');\n        form.action = resp.returnUrl;\n        form.method = \'post\';\n        form.acceptCharset = \'EUC-KR\';\n        for (var key in formData) {\n            var input = document.createElement(\'input\');\n            input.setAttribute(\'name\', key);\n            input.setAttribute(\'value\', formData[key]);\n            form.appendChild(input);\n        }\n        document.body.appendChild(form);\n        form.submit();\n    };\n\n    var _goLiivmate = function _goLiivmate(response) {\n        var form = document.createElement(\'form\');\n        form.method = \'post\';\n        form.action = response.returnUrl;\n        form.innerHTML = \'<input type="hidden" name="reqTX" value="\' + response.extraData.reqTX + \'">\';\n        document.body.appendChild(form);\n        form.submit();\n    };\n\n    var _goNaverPayPopup = function _goNaverPayPopup(response) {\n        var confirmUrl = response.returnUrl;\n        var shopId = response.extraData.shop_id;\n        var orderKey = response.key;\n        var totalPrice = response.extraData.total_price;\n\n        var naverPayPopup = window.open(confirmUrl + \'?ORDER_ID=\' + orderKey + \'&SHOP_ID=\' + shopId + \'&TOTAL_PRICE=\' + totalPrice, \'네이버 페이 간편결제\');\n        if (!naverPayPopup) {\n            alert("팝업 차단 여부를 확인하여 주시기 바랍니다.");\n        }\n    };\n\n    var _goToKcpUrl = function _goToKcpUrl(response) {\n        var element = document.getElementById(\'kcpForm\');\n        if (element) {\n            element.parentNode.removeChild(element);\n        }\n        var form = document.createElement(\'form\');\n        form.setAttribute(\'id\', \'kcpForm\');\n        form.setAttribute(\'target\', \'_self\');\n        //form.setAttribute(\'method\', \'post\');\n        form.action = response.returnUrl;\n        document.body.appendChild(form);\n        var confirmRedirectUrl = _getConfirmUrlWithOrderSheetNo();\n        form.innerHTML = \'\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="req_tx" value="\' + response.extraData.requestName + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="approval_key" id="approval" value="\' + response.extraData.approvalKey + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="site_cd" value="\' + response.extraData.siteCd + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="pay_method" value="\' + response.extraData.payMethod + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="ordr_idxx" value="\' + response.extraData.orderNo + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="currency" value="\' + response.extraData.currency + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_mny" value="\' + response.extraData.payAmount + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="Ret_URL" value="\' + confirmRedirectUrl + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="traceNo"  id="traceNo"  value="\' + response.extraData.traceNo + \'"/>\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_name" value="\' + response.extraData.goodName + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="escw_used" value="\' + response.extraData.escrowUsed + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="ActionResult" value="\' + response.extraData.actionResult + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="eng_flag" value="\' + response.extraData.englishUsed + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="disp_tax_yn" value="\' + response.extraData.cashReceiptDisplayYn + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="van_code" value="\' + response.extraData.vanCode + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="param_opt_1" value="\' + response.extraData.customParameter1 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="param_opt_2" value="\' + response.extraData.customParameter2 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="param_opt_3" value="\' + response.extraData.customParameter3 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="payco_direct" value="\' + response.extraData.payco_direct + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="sspay_direct" value="\' + response.extraData.sspay_direct + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="naverpay_direct" value="\' + response.extraData.naverpay_direct + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="buyr_name" value="\' + response.extraData.buyerName + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_expr" value="\' + response.extraData.good_expr + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="AppUrl" value="\' + (response.extraData.AppUrl || response.extraData.appUrl || \'\') + \'">\\n\\t\\t\\t\\t\\t    <input type="hidden" name="vcnt_expire_term" value="\' + response.extraData.vcnt_expire_term + \'"/>\\n\\t\\t\\t\\t\\t    <input type="hidden" name="tax_flag" value="\' + response.extraData.tax_flag + \'"/>\\n\\t\\t\\t\\t\\t    <input type="hidden" name="comm_tax_mny" value="\' + response.extraData.comm_tax_mny + \'"/>\\n\\t\\t\\t\\t\\t    <input type="hidden" name="comm_free_mny" value="\' + response.extraData.comm_free_mny + \'"/>\\n\\t\\t\\t\\t\\t    <input type="hidden" name="comm_vat_mny" value="\' + response.extraData.comm_vat_mny + \'"/>\\n\\t\\t\\t\\t\\t    <input type="hidden" name="coupon_apply_yn" value="\' + response.extraData.coupon_apply_yn + \'"/>\\n\\t\\t\\t\\t\\t\\t\';\n        if (response.extraData.escw_used == \'Y\') {\n            var RECORD_SEPARATOR = String.fromCharCode(30);\n            var UNIT_SEPARATOR = String.fromCharCode(31);\n            var good_infos = response.extraData.good_info.replace(/\\^T/gi, RECORD_SEPARATOR);\n            good_infos = good_infos.replace(/\\^N/gi, UNIT_SEPARATOR);\n            form.innerHTML = form.innerHTML + (\'<input type="hidden" name="pay_mod" value="\' + response.extraData.pay_mod + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="deli_term" value="\' + response.extraData.deli_term + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_name" value="\' + response.extraData.rcvr_name + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_tel1" value="\' + response.extraData.rcvr_tel1 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_tel2" value="\' + response.extraData.rcvr_tel2 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_mail" value="\' + response.extraData.rcvr_mail + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_zipx" value="\' + response.extraData.rcvr_zipx + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_add1" value="\' + response.extraData.rcvr_add1 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="rcvr_add2" value="\' + response.extraData.rcvr_add2 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="bask_cntx" value="\' + response.extraData.bask_cntx + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_info" value="\' + good_infos + \'">\');\n        }\n        form.submit();\n    };\n\n    var _goKakaoPayPopup = function _goKakaoPayPopup(response) {\n        var approveUrl = response.returnUrl;\n        if (_isMobile()) {\n            location.replace(approveUrl);\n        } else {\n            var kakaoPopup = window.open(\'\' + approveUrl, \'카카오페이 간편결제\', "width=420px,height=530px");\n            if (!kakaoPopup) {\n                alert(\'팝업 차단 여부를 확인하여 주시기 바랍니다.\');\n            }\n        }\n    };\n\n    var _goLGUPlusProc = function _goLGUPlusProc(response) {\n        var formData = response.extraData;\n        var form = document.createElement(\'form\');\n        form.method = \'post\';\n        for (var key in formData) {\n            var input = document.createElement(\'input\');\n            input.setAttribute(\'name\', key);\n            input.setAttribute(\'type\', \'hidden\');\n            input.setAttribute(\'value\', formData[key]);\n            form.appendChild(input);\n        }\n        document.body.appendChild(form);\n        window.openXpay(form, formData.CST_PLATFORM, formData.LGD_WINDOW_TYPE, null, \'\', \'\');\n    };\n\n    var _goChaiProc = function _goChaiProc(response) {\n        ChaiPayment.checkout({\n            publicAPIKey: response.key,\n            paymentId: response.extraData.paymentId,\n            returnUrl: _getConfirmUrlWithOrderSheetNo(),\n            idempotencyKey: response.extraData.idempotencyKey,\n            mode: _profile.CHAI_MODE\n        });\n    };\n\n    var _goNaverEasyPay = function _goNaverEasyPay(response) {\n        var sdkCreateKey = response.extraData.sdkCreateKey;\n        sdkCreateKey.openType = \'page\';\n        var oPay = Naver.Pay.create(response.extraData.sdkCreateKey);\n        oPay.open(response.extraData.sdkParam);\n    };\n\n    var _goSmartroProc = function _goSmartroProc(response) {\n        var formData = response.extraData;\n        var form = document.createElement(\'form\');\n        form.id = \'smartroForm\';\n        form.method = \'post\';\n        for (var key in formData) {\n            if (key === \'orderSheetNo\') continue;\n            var input = document.createElement(\'input\');\n            input.setAttribute(\'name\', key);\n            input.setAttribute(\'type\', \'hidden\');\n            input.setAttribute(\'value\', formData[key]);\n            form.appendChild(input);\n        }\n        document.body.appendChild(form);\n        smartropay.init({\n            mode: _profile.SMARTRO_PAY_MODE\n        });\n\n        if (_isMobile) {\n            smartropay.payment({\n                FormId: \'smartroForm\'\n            });\n        } else {\n            smartropay.payment({\n                FormId: \'smartroForm\',\n                Callback: function Callback(res) {\n                    var callBackForm = document.createElement(\'form\');\n                    callBackForm.method = \'post\';\n                    callBackForm.action = response.extraData.ReturnUrl;\n                    callBackForm.innerHTML = \'\\n                    <input type="hidden" name="orderNo" value="\' + response.extraData.Moid + \'">\\n                    <input type="hidden" name="Tid" value="\' + res.Tid + \'">\\n                    <input type="hidden" name="TrAuthKey" value="\' + res.TrAuthKey + \'">\\n                    <input type="hidden" name="orderSheetNo" value="\' + response.extraData.orderSheetNo + \'">\\n                \';\n                    document.body.appendChild(callBackForm);\n                    callBackForm.submit();\n                }\n            });\n        }\n    };\n\n    var _urlparam = function _urlparam(name) {\n        var regex = new RegExp(\'[\\\\?&]\' + name + \'=([^&#]*)\');\n        var results = regex.exec(window.location.href);\n        return results == null ? null : results[1];\n    };\n\n    var _processDataJson = function _processDataJson(dataJson) {\n        _currentPgType = dataJson.pgType;\n        dataJson.clientReturnUrl = _clientReturnUrl;\n        return dataJson;\n    };\n\n    var _lock = function _lock() {\n        _doubleCallBlocker = true;\n    };\n\n    var _unLock = function _unLock() {\n        _doubleCallBlocker = false;\n    };\n\n    var _isLock = function _isLock() {\n        return _doubleCallBlocker;\n    };\n\n    var _ajaxSuccessCallback = function _ajaxSuccessCallback(result) {\n        _unLock();\n        _confirmUrl = result.confirmUrl;\n        switch (result.pgType) {\n            case \'KCP\':\n                if (_isMobile()) {\n                    _goToKcpUrl(result);\n                } else {\n                    _showKcpLayer(result);\n                }\n                break;\n            case \'PAYCO\':\n                if (_isMobile()) {\n                    location.replace(result.returnUrl);\n                } else {\n                    var paycoWindow = window.open(result.returnUrl, "PAYCO간편결제", "width=720px,height=680px");\n                    if (!paycoWindow) {\n                        alert("팝업 차단 여부를 확인하여 주시기 바랍니다.");\n                    }\n                }\n                break;\n            case \'STRIPE\':\n                location.replace(_getConfirmUrlWithOrderSheetNo());\n                break;\n            case \'INICIS\':\n                if (_isMobile()) {\n                    _goInicisProcForMobile(result);\n                } else {\n                    _goInicisProcForPc(result);\n                }\n                break;\n            case \'NAVER_PAY\':\n                _goNaverPayPopup(result);\n                break;\n            case \'LIIVMATE\':\n                _goLiivmate(result);\n                break;\n            case \'KAKAO_PAY\':\n                _goKakaoPayPopup(result);\n                break;\n            case \'NAVER_EASY_PAY\':\n                _goNaverEasyPay(result);\n                break;\n            case \'LG_U_PLUS\':\n            case \'TOSS_PAYMENTS\':\n                _goLGUPlusProc(result);\n                break;\n            case \'CHAI\':\n                _goChaiProc(result);\n                break;\n            case \'SMARTRO_PAY\':\n                _goSmartroProc(result);\n                break;\n            case \'NONE\':\n                _currentPgType = result.pgType;\n                location.replace(_getConfirmUrlWithOrderSheetNo());\n                break;\n            default:\n                throw new Error(ERROR_CODE.INVALID_PG_TYPE(result.pgType));\n        }\n    };\n\n    var _recurringPaymentAjaxSuccessCallback = function _recurringPaymentAjaxSuccessCallback(result) {\n        _unLock();\n        switch (result.pgType) {\n            case \'KCP\':\n                _confirmUrl = result.confirmUrl;\n                if (_isMobile()) {\n                    _goToKcpRecurringPaymentUrl(result);\n                } else {\n                    _showRecurringPaymentKcpLayer(result);\n                }\n            default:\n                throw new Error(ERROR_CODE.INVALID_PG_TYPE(result.pgType));\n        }\n    };\n\n    var _goToKcpRecurringPaymentUrl = function _goToKcpRecurringPaymentUrl(response) {\n        var element = document.getElementById(\'kcpForm\');\n        if (element) {\n            element.parentNode.removeChild(element);\n        }\n        var form = document.createElement(\'form\');\n        form.setAttribute(\'id\', \'kcpForm\');\n        form.setAttribute(\'target\', \'_self\');\n        form.action = response.extraData.PayUrl;\n        document.body.appendChild(form);\n        form.innerHTML = \'\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="req_tx" value="\' + response.extraData.req_tx + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="kcp_group_id" value="\' + response.extraData.kcpgroup_id + \'"> \x3c!-- \\uBAA8\\uBC14\\uC77C\\uC740 kcp_group_id --\x3e\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="shop_name" value="\' + response.extraData.shop_name + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="kcp_bath_info_view" value="\' + response.extraData.kcp_bath_info_view + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="approval_key" id="approval" value="\' + response.extraData.approval_key + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="site_cd" value="\' + response.extraData.site_cd + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="pay_method" value="\' + response.extraData.pay_method + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="ordr_idxx" value="\' + response.extraData.ordr_idxx + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="currency" value="\' + response.extraData.currency + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_mny" value="\' + response.extraData.good_mny + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="traceNo" id="traceNo" value="\' + response.extraData.traceNo + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="Ret_URL" value="\' + response.extraData.Ret_URL + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="PayUrl"  id="PayUrl" value="\' + response.extraData.PayUrl + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_name" value="\' + response.extraData.good_name + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="escw_used" value="\' + response.extraData.escw_used + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="ActionResult" value="\' + response.extraData.ActionResult + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="param_opt_1" value="\' + response.extraData.param_opt_1 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="param_opt_2" value="\' + response.extraData.param_opt_2 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="param_opt_3" value="\' + response.extraData.param_opt_3 + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="buyr_name" value="\' + response.extraData.buyr_name + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="good_expr" value="\' + response.extraData.good_expr + \'">\\n\\t\\t\\t\\t\\t\\t<input type="hidden" name="batch_cardno_return_yn" value="\' + response.extraData.batch_cardno_return_yn + \'">\\n\\t\\t\\t\\t\\t\\t\';\n        form.submit();\n    };\n\n    var _ajaxFailCallback = function _ajaxFailCallback(status, result) {\n        _unLock();\n        switch (status) {\n            case 400:\n                alert(result.message);\n                throw new Error(result.message);\n            case 401:\n                alert(\'로그인이 필요합니다.\');\n                throw new Error(\'로그인이 필요합니다.\');\n            case 405:\n                throw new Error(ERROR_CODE.METHOD_NOT_ALLOWED);\n            case 403:\n                console.log(\'code: \' + result.code);\n                console.log(\'data: \' + result.data);\n                console.log(\'message: \' + result.message);\n                throw new Error(result.message);\n            default:\n                throw new Error(ERROR_CODE.COMMON_ERROR);\n        }\n    };\n    var _regiserNaverParams = function _regiserNaverParams(params) {\n        _naverParams = params;\n    };\n    var _getNaverParams = function _getNaverParams() {\n        // let products = [];\n        // for (let i = 0; i < _naverParams.length; i++) {\n        //     let element = result[_naverParams.products[i].productNo] == undefined ? {\n        //         productNo: _naverParams.products[i].productNo, options: []\n        //     } : result[_naverParams.products[i].productNo];\n        //     element.options.push({\n        //         optionNo:\n        //         _naverParams.products[i].optionNo,\n        //         orderCnt:\n        //         _naverParams.products[i].orderCnt\n        //     })\n        //     ;\n        //     products.push(element);\n        // }\n        return _naverParams;\n    };\n    var _getNaverValidateParams = function _getNaverValidateParams() {\n        return _naverParams.items;\n    };\n    var _validateNaverPay = function _validateNaverPay() {\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open(\'put\', _profile.API_GATEWAY_URL + \'/payments/naver/validate\', true);\n            xhr.setRequestHeader(\'Content-Type\', \'application/json\');\n            xhr.setRequestHeader(\'Version\', _version);\n            xhr.setRequestHeader(\'platform\', _platform);\n            xhr.setRequestHeader(\'clientId\', _clientId);\n            xhr.setRequestHeader(\'dataType\', \'json\');\n            xhr.onload = function () {\n                if (xhr.status === 200) {\n                    // FIXME 콜백 필요한가?\n                    resolve(xhr.responseText);\n                } else {\n                    var resultJson = JSON.parse(xhr.responseText);\n                    try {\n                        _ajaxFailCallback(xhr.status, resultJson);\n                    } catch (exception) {\n                        console.error(exception);\n                    } finally {\n                        reject(resultJson);\n                    }\n                }\n            };\n            xhr.send(JSON.stringify(_getNaverValidateParams()));\n        });\n    };\n\n    var _registerNaverPayOrder = function _registerNaverPayOrder() {\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open(\'post\', _profile.API_GATEWAY_URL + \'/payments/naver/ordersheet\', true);\n            xhr.setRequestHeader(\'Content-Type\', \'application/json\');\n            xhr.setRequestHeader(\'Version\', _version);\n            xhr.setRequestHeader(\'platform\', _platform);\n            xhr.setRequestHeader(\'clientId\', _clientId);\n            xhr.setRequestHeader(\'accessToken\', _accessToken);\n            xhr.setRequestHeader(\'dataType\', \'json\');\n            // xhr.withCredentials = true;\n            xhr.onload = function () {\n                if (xhr.status === 200) {\n                    resolve(xhr.status, xhr.responseText);\n\n                    if (_isMobile()) {\n                        window.location.href = xhr.responseText;\n                    } else {\n                        window.open(xhr.responseText);\n                    }\n                } else {\n                    var resultJson = JSON.parse(xhr.responseText);\n                    try {\n                        _ajaxFailCallback(xhr.status, resultJson);\n                    } catch (exception) {\n                        console.error(exception);\n                    } finally {\n                        reject(resultJson);\n                    }\n                }\n            };\n            var param = _getNaverParams();\n            param.naCo = getCookie("NA_CO");\n            param.nvadid = getCookie("NVADID");\n            xhr.send(JSON.stringify(_getNaverParams()));\n        });\n    };\n    var getCookie = function getCookie(cookieName) {\n        var cookieValue = null;\n        if (document.cookie) {\n            var array = document.cookie.split(escape(cookieName) + \'=\');\n            if (array.length >= 2) {\n                var arraySub = array[1].split(\';\');\n                cookieValue = unescape(arraySub[0]);\n            }\n        }\n        return cookieValue;\n    };\n\n    var _registerNaverPayWishList = function _registerNaverPayWishList(param) {\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open(\'post\', _profile.API_GATEWAY_URL + \'/payments/naver/wish-list\', true);\n            xhr.setRequestHeader(\'Content-Type\', \'application/json\');\n            xhr.setRequestHeader(\'Version\', _version);\n            xhr.setRequestHeader(\'platform\', _platform);\n            xhr.setRequestHeader(\'clientId\', _clientId);\n            xhr.setRequestHeader(\'dataType\', \'json\');\n            xhr.onload = function () {\n                if (xhr.status === 200) {\n                    resolve(xhr.status, xhr.responseText);\n\n                    if (_isMobile()) {\n                        window.location.href = xhr.responseText;\n                    } else {\n                        window.open(xhr.responseText, null, \'width=400, height=300, left=100, top=50\');\n                    }\n                } else {\n                    var resultJson = JSON.parse(xhr.responseText);\n                    try {\n                        _ajaxFailCallback(xhr.status, resultJson);\n                    } catch (exception) {\n                        console.error(exception);\n                    } finally {\n                        reject(resultJson);\n                    }\n                }\n            };\n\n            console.log(JSON.stringify(param));\n            xhr.send(JSON.stringify(param));\n        });\n    };\n\n    return {\n        reservation: function reservation(dataJson, successCallback, failCallback) {\n            _setOrderSheetNo(dataJson.orderSheetNo);\n            _validReservation(dataJson);\n            _processDataJson(dataJson);\n\n            if (_isLock()) {\n                return;\n            }\n\n            _lock();\n\n            var url = _getReservationUrl();\n\n            var xhr = new XMLHttpRequest();\n            xhr.open(\'POST\', url, true);\n            xhr.setRequestHeader(\'Content-Type\', \'application/json\');\n            xhr.setRequestHeader(\'Version\', _version);\n            xhr.setRequestHeader(\'platform\', _platform);\n            xhr.setRequestHeader(\'clientId\', _clientId);\n            xhr.setRequestHeader(\'accessToken\', _accessToken);\n            xhr.onload = function () {\n                var resultJson = JSON.parse(xhr.responseText);\n                if (xhr.status === 200) {\n                    if (successCallback) {\n                        successCallback(resultJson);\n                    }\n                    _ajaxSuccessCallback(resultJson);\n                } else {\n                    if (failCallback) {\n                        failCallback(resultJson);\n                    }\n                    _ajaxFailCallback(xhr.status, resultJson);\n                }\n            };\n\n            xhr.send(JSON.stringify(dataJson));\n        },\n\n        reserveRecurringPaymentKey: function reserveRecurringPaymentKey(recurringPaymentRedirectUrl, successCallback, failCallback) {\n            if (_isLock()) {\n                return;\n            }\n            _lock();\n            _recurringPaymentRedirectUrl = recurringPaymentRedirectUrl;\n\n            var url = _getRecurringPaymentReserveUrl();\n\n            var xhr = new XMLHttpRequest();\n            xhr.open(\'POST\', url, true);\n            xhr.setRequestHeader(\'Content-Type\', \'application/json\');\n            xhr.setRequestHeader(\'Version\', _version);\n            xhr.setRequestHeader(\'platform\', _platform);\n            xhr.setRequestHeader(\'clientId\', _clientId);\n            xhr.setRequestHeader(\'accessToken\', _accessToken);\n            xhr.onload = function () {\n                var resultJson = JSON.parse(xhr.responseText);\n                if (xhr.status === 200) {\n                    if (successCallback) {\n                        successCallback(resultJson);\n                    }\n                    _recurringPaymentAjaxSuccessCallback(resultJson);\n                } else {\n                    try {\n                        _ajaxFailCallback(xhr.status, resultJson);\n                    } catch (exception) {\n                        console.error(exception);\n                    } finally {\n                        if (failCallback) {\n                            failCallback(resultJson);\n                        }\n                    }\n                }\n            };\n            xhr.send();\n        },\n        makeConfirmRequest: function makeConfirmRequest() {\n            var data = {};\n            data.mallNo = 1;\n            data.orderSheetNo = _urlparam(\'orderSheetNo\', \'\');\n            data.pgType = _urlparam(\'pgType\');\n            data.payType = _urlparam(\'payType\');\n            data.paymentCertifyToken = decodeURIComponent(_urlparam(\'paymentCertifyToken\'));\n            if (data.paymentCertifyToken == "null" || data.paymentCertifyToken == null || data.paymentCertifyToken == "") {\n                data.paymentCertifyToken = decodeURIComponent(_urlparam(\'PayerID\'));\n            }\n\n            var pgType = _urlparam(\'pgType\');\n\n            // KCP 처리\n            if (_urlparam(\'pgType\') == \'KCP\') {\n                //TODO 여기 시점에서 mobile인지는 알 수 없을 것 같음\n                if (_isMobile()) {\n                    data.method = \'GET\';\n                } else {\n                    data.paymentCertifyToken = _urlparam(\'enc_info\');\n                    data.encrypted = _urlparam(\'enc_data\');\n                    data.resultCode = _urlparam(\'tran_cd\');\n                    data.usePayMethod = _urlparam(\'use_pay_method\');\n                    data.cashYn = _urlparam(\'cash_yn\');\n                    data.cashTrCode = _urlparam(\'cashTrCode\');\n                    data.kcpPayType = _urlparam(\'pay_method\');\n                }\n            }\n            //카카오 페이\n            if (_urlparam(\'pgType\') == \'KAKAO_PAY\') {\n                data.paymentCertifyToken = decodeURIComponent(_urlparam(\'pg_token\'));\n            }\n\n            return data;\n        },\n\n        /**\n         * redirect url을 설정한 PG인 경우 호출한다\n         * @param successCallback\n         * @param failCallback\n         */\n        getConfirm: function getConfirm(successCallback, failCallback) {},\n        setConfiguration: function setConfiguration(options) {\n            if (options.platform == null) {\n                _platform = \'PC\';\n            } else {\n                _platform = options.platform;\n            }\n            _clientId = options.clientId;\n            _clientReturnUrl = options.confirmUrl;\n            _accessToken = options.accessToken;\n        },\n        getConfirmUrl: function getConfirmUrl() {\n            return _getConfirmUrlWithOrderSheetNo();\n        },\n        getCurrentPgType: function getCurrentPgType() {\n            return _currentPgType;\n        },\n        requestNaverPayOrder: function requestNaverPayOrder(param, successCallback, failCallback) {\n            console.log(param, successCallback, failCallback);\n            _regiserNaverParams(param);\n            Promise.resolve().then(_validateNaverPay).then(_registerNaverPayOrder).then(successCallback).catch(failCallback);\n        },\n        requestNaverPayWishList: function requestNaverPayWishList(param, successCallback, failCallback) {\n            console.log(param, successCallback, failCallback);\n            _registerNaverPayWishList(param).then(successCallback).catch(failCallback);\n        },\n        getRecurringPaymentRedirectUrl: function getRecurringPaymentRedirectUrl() {\n            return _recurringPaymentRedirectUrl;\n        }\n    };\n}();\n\nfunction def() {\n    console.log("QQQ");\n}\n\nfunction createKcpForm() {\n    var form = document.createElement(\'form\');\n    form.id = \'confirm_info\';\n    form.method = \'post\';\n    form.innerHTML = \'\\n\\t\\t\\t\\t\\t<input type="hidden" name="req_tx" value="pay" />\\n    \\t\\t\\t\\t<input type="hidden" name="quotaopt" value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="currency" value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="module_type"     value="01"/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="res_cd"          value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="res_msg"         value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="trace_no"         value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="enc_info"        value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="enc_data"        value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="ret_pay_method"  value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="tran_cd"         value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="use_pay_method"  value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="ordr_chk"        value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="cash_yn"         value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="cash_tr_code"    value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="cash_id_info"    value=""/>\\n\\t\\t\\t\\t\\t<input type="hidden" name="good_expr" value="0">\\n\\t\\t\\t\\t\\t<input type="hidden" name="platformType" value="PC">\\n\\t\\t\\t\\t\\t<input type="hidden" name="ordr_idxx" value="">\\n\\t\\t\\t\\t\\t<input type="hidden" name="buyr_name" value="">\\n\\t\\t\\t\\t\\t<input type="hidden" name="card_mask_no" value="">\\n\\t\\t\\t\\t\\t\';\n    document.body.appendChild(form);\n    return form;\n}\n\nfunction serializeKcpForm(frm) {\n\n    var i;\n    var queryString2;\n\n    // TODO :\n    queryString2 = frm.elements[0].name + \'=\' + frm.elements[0].value;\n    for (i = 1; i < frm.elements.length; i++) {\n        queryString2 = queryString2 + \'&\' + frm.elements[i].name + \'=\' + frm.elements[i].value;\n    }\n\n    var queryString = \'enc_info=\' + frm.enc_info.value;\n    queryString = queryString + \'&tran_cd=\' + frm.tran_cd.value;\n    queryString = queryString + \'&use_pay_method=\' + frm.use_pay_method.value;\n    queryString = queryString + \'&enc_data=\' + frm.enc_data.value;\n    queryString = queryString + \'&cash_yn=\' + frm.cash_yn.value;\n    queryString = queryString + \'&cash_tr_code=\' + frm.cash_tr_code.value;\n    queryString = queryString + \'&orderSheetNo=\' + document.getElementById(\'orderSheetNo\').value;\n    queryString = queryString + \'&pgType=\' + window.NCPPay.getCurrentPgType();\n    return queryString;\n}\n\n/**\n * KCP 결제창 성공시 호출되는 콜백 (KCP 제공)\n */\nwindow.m_Completepayment = function (FormOrJson, closeEvent) {\n    var confirmURL = window.NCPPay.getConfirmUrl();\n\n    var frm = createKcpForm();\n    /********************************************************************/\n    /* FormOrJson은 가맹점 임의 활용 금지                               */\n    /* frm 값에 FormOrJson 값이 설정 됨 frm 값으로 활용 하셔야 됩니다.  */\n    /* FormOrJson 값을 활용 하시려면 기술지원팀으로 문의바랍니다.       */\n    /********************************************************************/\n    GetField(frm, FormOrJson);\n    if (frm.res_cd.value == "0000") {\n        frm.action = confirmURL;\n        if (NCPPay.getRecurringPaymentRedirectUrl() != null) {\n            var input = document.createElement(\'input\');\n            input.setAttribute(\'name\', "recurringPaymentRedirectUrl");\n            input.setAttribute(\'value\', NCPPay.getRecurringPaymentRedirectUrl());\n            frm.appendChild(input);\n        }\n        frm.submit();\n        // confirm(주문완료) page로 이동한다.\n        // window.location = confirmURL + \'?\' + serializeKcpForm(frm);\n    } else {\n        alert("[" + frm.res_cd.value + "] " + frm.res_msg.value);\n        // TODO : error_code 접근 못함.. -_-\n        closeEvent();\n    }\n};\n\n/**\n * LG U PLUS 인증결과 처리\n */\nwindow.confirmLGUPlus = function (e) {\n    var reserveResponse = e.data;\n    if (!reserveResponse.isLGUPlus) {\n        return;\n    }\n\n    if (reserveResponse.LGD_RESPCODE === \'0000\') {\n        var confirmURL = window.NCPPay.getConfirmUrl();\n        var formData = reserveResponse;\n        var form = document.createElement(\'form\');\n        form.action = confirmURL;\n        form.method = \'post\';\n        for (var key in formData) {\n            var input = document.createElement(\'input\');\n            input.setAttribute(\'name\', key);\n            input.setAttribute(\'type\', \'hidden\');\n            input.setAttribute(\'value\', formData[key]);\n            form.appendChild(input);\n        }\n        document.body.appendChild(form);\n        form.submit();\n        window.closeIframe();\n    } else {\n        // TODO 사용자 취소 처리 시 코드 확인 후 alert 안띄워줘도 될듯.\n        window.alert(reserveResponse.LGD_RESPMSG);\n        window.closeIframe();\n    }\n};\n\nwindow.addEventListener(\'message\', window.confirmLGUPlus);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbmNwX3BheS5qcz9mNjhjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBuY3BfcGF5LmpzIDIwMTcuIDcuIDEyLlxuICogQ29weXJpZ2h0IDIwMTcgTkhOIEVudC4gQWxsIHJpZ2h0cyBSZXNlcnZlZC5cbiAqIE5ITiBFbnQgUFJPUFJJRVRBUlkvQ09ORklERU5USUFMLiBVc2UgaXMgc3ViamVjdCB0byBsaWNlbnNlIHRlcm1zLlxuICovXG5cbi8qKlxuICogQGF1dGhvciBneXV0YWUgY2hvaVxuICogQGVtYWlsIGd0Y2hvaUBuaG5lbnQuY29tXG4gKi9cblxuLyoqXG4gKiBJReulvCDsnITtlZwgcG9seW1vZnkg7IiY7KCVXG4gKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcykge1xuICAgIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiAoc2VhcmNoLCBzdGFydCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnQgKyBzZWFyY2gubGVuZ3RoID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxud2luZG93Lk5DUFBheSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIEVSUk9SX0NPREUgPSB7XG4gICAgICAgIENPTU1PTl9FUlJPUjogXCLshJzrsoTsoJHsho3snbQg7JuQ7ZWg7ZWY7KeAIOyViuyKteuLiOuLpC4g7J6g7IucIO2bhCDsnqzsi5zrj4Qg7ZW07KO87IS47JqULlwiLFxuICAgICAgICBFTVBUWV9QQVlfUkVESVJFQ1RfVVJMOiBcIk5DUCBQQVk6IHBheVJlZGlyZWN0VXJsIOqwkuydtCDsl4bsirXri4jri6QuXCIsXG4gICAgICAgIE1FVEhPRF9OT1RfQUxMT1dFRDogXCI0MDUgTUVUSE9EX05PVF9BTExPV0VEXCIsXG4gICAgICAgIElOVkFMSURfUEdfVFlQRTogZnVuY3Rpb24gKHBnVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiTkNQIFBBWSA6IFBHIHR5cGXsnbQg7Jyg7Zqo7ZWY7KeAIOyViuyKteuLiOuLpC4gKEtDUCwgSU5JQ0lTLCBQQVlDTywgTElJVk1BVEUsIEtBS0FPIFBBWSwgTkFWRVJfRUFTWV9QQVksIExHX1VfUExVUywgVE9TU19QQVlNRU5UUywgQ0hBSSwgU01BUlRST19QQVkp7KSRIDHqsJzrpbwg7IKs7Jqp7ZWY7IS47JqULiDtmITsnqwg7ISk7KCV65CcIHBnVHlwZVwiICtcbiAgICAgICAgICAgIFwiIDogXCIgKyBwZ1R5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIEtDUF9MQVlFUl9QT1BVUF9FUlJPUjogZnVuY3Rpb24gKHJlc3VsdENvZGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBcIktDUCDqsrDsoJwg7J247KadIOyXkOufrC4gcmVzdWx0IGNvZGUgOiBcIiArIHJlc3VsdENvZGUgKyBcIiBtZXNzYWdlIDogXCIgKyBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgVVJJID0ge1xuICAgICAgICBSRVNFUlZBVElPTl9VUkk6ICcvcGF5bWVudHMvcmVzZXJ2ZScsXG4gICAgICAgIFJFQ1VSUklOR19QQVlNRU5UX0tFWV9SRVNFUlZFX1VSSSA6ICcvcGF5bWVudHMvcmVzZXJ2ZS9yZWN1cnJpbmctcGF5bWVudC9rZXknLFxuICAgICAgICBSRUNVUlJJTkdfUEFZTUVOVF9LRVlfQ09ORklSTV9VUkkgOiAnL3BheW1lbnRzL2NvbmZpcm0tcmVkaXJlY3QvcmVjdXJyaW5nLXBheW1lbnQva2V5J1xuICAgIH07XG5cbiAgICB2YXIgUEdfVFlQRVMgPSBbJ0tDUCcsICdJTklDSVMnLCAnUEFZQ08nLCAnTkFWRVJfUEFZJywgJ0xJSVZNQVRFJywgJ0tBS0FPX1BBWScsICdOQVZFUl9FQVNZX1BBWScsICdMR19VX1BMVVMnLCAnVE9TU19QQVlNRU5UUycsICdDSEFJJywgJ1NNQVJUUk9fUEFZJyxcbiAgICAgICAgICAgICAgICAgICAgJ05PTkUnXTtcblxuICAgIHZhciBfcHJvZmlsZSA9IFBST0ZJTEU7XG4gICAgdmFyIF9wbGF0Zm9ybTtcbiAgICB2YXIgX2NsaWVudElkO1xuICAgIHZhciBfY2xpZW50UmV0dXJuVXJsO1xuICAgIHZhciBfYWNjZXNzVG9rZW47XG4gICAgdmFyIF92ZXJzaW9uID0gXCIxLjBcIjtcbiAgICB2YXIgX2N1cnJlbnRQZ1R5cGU7IC8vIHNlcmlhbGl6ZUtjcEZvcm0oKeyXkOyEnCDsgqzsmqlcbiAgICB2YXIgX29yZGVyU2hlZXRObztcbiAgICB2YXIgX2RvdWJsZUNhbGxCbG9ja2VyID0gZmFsc2U7XG4gICAgdmFyIF9uYXZlclBhcmFtcztcbiAgICB2YXIgX2NvbmZpcm1Vcmw7XG4gICAgdmFyIF9yZWN1cnJpbmdQYXltZW50UmVkaXJlY3RVcmw7XG5cbiAgICB2YXIgX2lzTW9iaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgICAgICAgICB8fCAoX3BsYXRmb3JtICE9ICcnICYmIF9wbGF0Zm9ybSAhPSAnUEMnKTtcbiAgICB9O1xuXG4gICAgdmFyIF92YWxpZFJlc2VydmF0aW9uID0gZnVuY3Rpb24gKGRhdGFKc29uKSB7XG4gICAgICAgIGlmIChQR19UWVBFUy5pbmRleE9mKGRhdGFKc29uLnBnVHlwZSkgPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9DT0RFLklOVkFMSURfUEdfVFlQRShkYXRhSnNvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyA6IGNvbmZpcm11cmwg64SQ7LK07YGsP1xuICAgIH07XG5cbiAgICB2YXIgX3ZhbGlkQ29uZmlybSA9IGZ1bmN0aW9uIChkYXRhSnNvbikge1xuICAgICAgICBpZiAoUEdfVFlQRVMuaW5kZXhPZihkYXRhSnNvbi5wZ1R5cGUpID09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfQ09ERS5JTlZBTElEX1BHX1RZUEUoZGF0YUpzb24pKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX2dldFJlc2VydmF0aW9uVXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKF9wcm9maWxlLkFQSV9HQVRFV0FZX1VSTCA9PSBudWxsID8gXCJcIiA6IF9wcm9maWxlLkFQSV9HQVRFV0FZX1VSTCkgKyBVUkkuUkVTRVJWQVRJT05fVVJJO1xuICAgIH07XG5cbiAgICB2YXIgX2dldFJlY3VycmluZ1BheW1lbnRSZXNlcnZlVXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKF9wcm9maWxlLkFQSV9HQVRFV0FZX1VSTCA9PSBudWxsID8gXCJcIiA6IF9wcm9maWxlLkFQSV9HQVRFV0FZX1VSTCkgKyBVUkkuUkVDVVJSSU5HX1BBWU1FTlRfS0VZX1JFU0VSVkVfVVJJO1xuICAgIH07XG5cbiAgICB2YXIgX2dldFJlY3VycmluZ1BheW1lbnRDb25maXJtVXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKF9wcm9maWxlLkFQSV9HQVRFV0FZX1VSTCA9PSBudWxsID8gXCJcIiA6IF9wcm9maWxlLkFQSV9HQVRFV0FZX1VSTCkgKyBVUkkuUkVDVVJSSU5HX1BBWU1FTlRfS0VZX0NPTkZJUk1fVVJJO1xuICAgIH07XG5cbiAgICB2YXIgX2dldENvbmZpcm1VcmxXaXRoT3JkZXJTaGVldE5vID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2NvbmZpcm1Vcmw7XG4gICAgfTtcblxuICAgIHZhciBfc2hvd0tjcExheWVyID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBmb3JtRGF0YSA9IHJlc3BvbnNlLmV4dHJhRGF0YTtcbiAgICAgICAgdmFyIGZvcm0gPSBfY3JlYXRlUGF5Rm9ybShmb3JtRGF0YSk7XG5cbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQubmFtZSA9ICdkaXNwX3RheF95bic7XG4gICAgICAgIGlucHV0LnZhbHVlID0gJ1knO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgd2luZG93LktDUF9QYXlfRXhlY3V0ZShmb3JtKTsgLy8gcGF5cGx1c193ZWIuanNw6rCAIOyEoOyWuO2VnCDtlajsiJhcbiAgICB9O1xuXG4gICAgdmFyIF9zaG93UmVjdXJyaW5nUGF5bWVudEtjcExheWVyID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBmb3JtRGF0YSA9IHJlc3BvbnNlLmV4dHJhRGF0YTtcbiAgICAgICAgdmFyIGZvcm0gPSBfY3JlYXRlUGF5Rm9ybShmb3JtRGF0YSk7XG4gICAgICAgIHdpbmRvdy5LQ1BfUGF5X0V4ZWN1dGUoZm9ybSk7IC8vIHBheXBsdXNfd2ViLmpzcOqwgCDshKDslrjtlZwg7ZWo7IiYXG4gICAgfTtcblxuICAgIHZhciBfc2V0T3JkZXJTaGVldE5vID0gZnVuY3Rpb24gKG9yZGVyU2hlZXRObykge1xuICAgICAgICBfb3JkZXJTaGVldE5vID0gb3JkZXJTaGVldE5vO1xuICAgIH1cblxuICAgIHZhciBfY3JlYXRlUGF5Rm9ybSA9IGZ1bmN0aW9uIChmb3JtRGF0YSkge1xuICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnZ29vZF9pbmZvJykge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgaW5wdXQubmFtZSA9IGAke2tleX1gO1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYCR7Zm9ybURhdGFba2V5XX1gO1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9zZXJ2ZXLsl5DshJwg66eM65Ok7Ja07KaMIFNFUEFSQVRPUiDqsJLsnbQg64+Z7J6R7ZWY7KeAIOyViuyVhOyEnCDrhKPslrTspKzri6RcbiAgICAgICAgaWYgKGZvcm1EYXRhLmVzY3dfdXNlZCA9PSAnWScpIHtcbiAgICAgICAgICAgIHZhciBSRUNPUkRfU0VQQVJBVE9SID0gU3RyaW5nLmZyb21DaGFyQ29kZSgzMCk7XG4gICAgICAgICAgICB2YXIgVU5JVF9TRVBBUkFUT1IgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMxKTtcbiAgICAgICAgICAgIGlmIChmb3JtRGF0YS5nb29kX2luZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgZ29vZF9pbmZvcyA9IGZvcm1EYXRhLmdvb2RfaW5mby5yZXBsYWNlKC9cXF5UL2dpLCBSRUNPUkRfU0VQQVJBVE9SKTtcbiAgICAgICAgICAgICAgICBnb29kX2luZm9zID0gZ29vZF9pbmZvcy5yZXBsYWNlKC9cXF5OL2dpLCBVTklUX1NFUEFSQVRPUik7XG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgICAgICBpbnB1dC5uYW1lID0gJ2dvb2RfaW5mbyc7XG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBgJHtnb29kX2luZm9zfWA7XG4gICAgICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9ybTtcbiAgICB9O1xuXG4gICAgdmFyIF9nb0luaWNpc1Byb2NGb3JQYyA9IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luaWNpc0lmcmFtZScpO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcmRlclNoZWV0Tm8gPSBlbmNvZGVVUklDb21wb25lbnQoX29yZGVyU2hlZXRObyk7XG4gICAgICAgIGxldCBpZnJhbWVVcmwgPSBgJHtfcHJvZmlsZS5JTklDSVNfUkVTRVJWQVRJT05fSUZSQU1FX1VSTH0/b3JkZXJTaGVldE5vPSR7b3JkZXJTaGVldE5vfWA7XG4gICAgICAgIGxldCBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDtcbiAgICAgICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IGA8aWZyYW1lIGZyYW1lYm9yZGVyPVwiMFwiIHNjcm9sbGluZz1cIm5vXCIgc2FuZGJveD1cImFsbG93LXNjcmlwdHMgYWxsb3ctdG9wLW5hdmlnYXRpb24gYWxsb3ctZm9ybXMgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb25cIiBhbGxvd3RyYW5zcGFyZW5jeT1cInRydWVcIiBpZD1cImluaWNpc0lmcmFtZVwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBtYXJnaW46IDBweDsgcGFkZGluZzogMHB4OyBwb3NpdGlvbjpmaXhlZDsgYm94LXNpemluZzpib3JkZXItYm94OyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgdG9wOjBweFwiPjwvaWZyYW1lPmA7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wRGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5pY2lzSWZyYW1lJykuc2V0QXR0cmlidXRlKCdzcmMnLCBpZnJhbWVVcmwpO1xuICAgIH07XG5cbiAgICB2YXIgX2Nsb3NlSWZyYW1lID0gZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5pY2lzSWZyYW1lJyk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIF9nb0luaWNpc1Byb2NGb3JNb2JpbGUgPSBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHJlc3AuZXh0cmFEYXRhO1xuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBmb3JtLmFjdGlvbiA9IHJlc3AucmV0dXJuVXJsO1xuICAgICAgICBmb3JtLm1ldGhvZCA9ICdwb3N0JztcbiAgICAgICAgZm9ybS5hY2NlcHRDaGFyc2V0ID0gJ0VVQy1LUic7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBrZXkpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGZvcm1EYXRhW2tleV0pO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgX2dvTGlpdm1hdGUgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBmb3JtLm1ldGhvZCA9ICdwb3N0JztcbiAgICAgICAgZm9ybS5hY3Rpb24gPSByZXNwb25zZS5yZXR1cm5Vcmw7XG4gICAgICAgIGZvcm0uaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInJlcVRYXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5yZXFUWH1cIj5gO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgX2dvTmF2ZXJQYXlQb3B1cCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgY29uZmlybVVybCA9IHJlc3BvbnNlLnJldHVyblVybDtcbiAgICAgICAgdmFyIHNob3BJZCA9IHJlc3BvbnNlLmV4dHJhRGF0YS5zaG9wX2lkO1xuICAgICAgICB2YXIgb3JkZXJLZXkgPSByZXNwb25zZS5rZXk7XG4gICAgICAgIHZhciB0b3RhbFByaWNlID0gcmVzcG9uc2UuZXh0cmFEYXRhLnRvdGFsX3ByaWNlO1xuXG4gICAgICAgIHZhciBuYXZlclBheVBvcHVwID0gd2luZG93Lm9wZW4oXG4gICAgICAgIGAke2NvbmZpcm1Vcmx9P09SREVSX0lEPSR7b3JkZXJLZXl9JlNIT1BfSUQ9JHtzaG9wSWR9JlRPVEFMX1BSSUNFPSR7dG90YWxQcmljZX1gLCAn64Sk7J2067KEIO2OmOydtCDqsITtjrjqsrDsoJwnKTtcbiAgICAgICAgaWYgKCFuYXZlclBheVBvcHVwKSB7XG4gICAgICAgICAgICBhbGVydChcIu2MneyXhSDssKjri6gg7Jes67aA66W8IO2ZleyduO2VmOyXrCDso7zsi5zquLAg67CU656N64uI64ukLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX2dvVG9LY3BVcmwgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna2NwRm9ybScpO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnaWQnLCAna2NwRm9ybScpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19zZWxmJyk7XG4gICAgICAgIC8vZm9ybS5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsICdwb3N0Jyk7XG4gICAgICAgIGZvcm0uYWN0aW9uID0gcmVzcG9uc2UucmV0dXJuVXJsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBsZXQgY29uZmlybVJlZGlyZWN0VXJsID0gX2dldENvbmZpcm1VcmxXaXRoT3JkZXJTaGVldE5vKCk7XG4gICAgICAgIGZvcm0uaW5uZXJIVE1MID0gYFxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmVxX3R4XCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5yZXF1ZXN0TmFtZX1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImFwcHJvdmFsX2tleVwiIGlkPVwiYXBwcm92YWxcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmFwcHJvdmFsS2V5fVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic2l0ZV9jZFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuc2l0ZUNkfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGF5X21ldGhvZFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEucGF5TWV0aG9kfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwib3Jkcl9pZHh4XCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5vcmRlck5vfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY3VycmVuY3lcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmN1cnJlbmN5fVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiZ29vZF9tbnlcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnBheUFtb3VudH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIlJldF9VUkxcIiB2YWx1ZT1cIiR7Y29uZmlybVJlZGlyZWN0VXJsfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwidHJhY2VOb1wiICBpZD1cInRyYWNlTm9cIiAgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS50cmFjZU5vfVwiLz5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImdvb2RfbmFtZVwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuZ29vZE5hbWV9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJlc2N3X3VzZWRcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmVzY3Jvd1VzZWR9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJBY3Rpb25SZXN1bHRcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmFjdGlvblJlc3VsdH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImVuZ19mbGFnXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5lbmdsaXNoVXNlZH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImRpc3BfdGF4X3luXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5jYXNoUmVjZWlwdERpc3BsYXlZbn1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInZhbl9jb2RlXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS52YW5Db2RlfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGFyYW1fb3B0XzFcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmN1c3RvbVBhcmFtZXRlcjF9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwYXJhbV9vcHRfMlwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuY3VzdG9tUGFyYW1ldGVyMn1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInBhcmFtX29wdF8zXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5jdXN0b21QYXJhbWV0ZXIzfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGF5Y29fZGlyZWN0XCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5wYXljb19kaXJlY3R9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzc3BheV9kaXJlY3RcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnNzcGF5X2RpcmVjdH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIm5hdmVycGF5X2RpcmVjdFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEubmF2ZXJwYXlfZGlyZWN0fVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiYnV5cl9uYW1lXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5idXllck5hbWV9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJnb29kX2V4cHJcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmdvb2RfZXhwcn1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIkFwcFVybFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuQXBwVXJsIHx8IHJlc3BvbnNlLmV4dHJhRGF0YS5hcHBVcmwgfHwgJyd9XCI+XG5cdFx0XHRcdFx0ICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInZjbnRfZXhwaXJlX3Rlcm1cIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnZjbnRfZXhwaXJlX3Rlcm19XCIvPlxuXHRcdFx0XHRcdCAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJ0YXhfZmxhZ1wiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEudGF4X2ZsYWd9XCIvPlxuXHRcdFx0XHRcdCAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjb21tX3RheF9tbnlcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmNvbW1fdGF4X21ueX1cIi8+XG5cdFx0XHRcdFx0ICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNvbW1fZnJlZV9tbnlcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmNvbW1fZnJlZV9tbnl9XCIvPlxuXHRcdFx0XHRcdCAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjb21tX3ZhdF9tbnlcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmNvbW1fdmF0X21ueX1cIi8+XG5cdFx0XHRcdFx0ICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNvdXBvbl9hcHBseV95blwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuY291cG9uX2FwcGx5X3lufVwiLz5cblx0XHRcdFx0XHRcdGA7XG4gICAgICAgIGlmIChyZXNwb25zZS5leHRyYURhdGEuZXNjd191c2VkID09ICdZJykge1xuICAgICAgICAgICAgdmFyIFJFQ09SRF9TRVBBUkFUT1IgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMwKTtcbiAgICAgICAgICAgIHZhciBVTklUX1NFUEFSQVRPUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMzEpO1xuICAgICAgICAgICAgdmFyIGdvb2RfaW5mb3MgPSByZXNwb25zZS5leHRyYURhdGEuZ29vZF9pbmZvLnJlcGxhY2UoL1xcXlQvZ2ksIFJFQ09SRF9TRVBBUkFUT1IpO1xuICAgICAgICAgICAgZ29vZF9pbmZvcyA9IGdvb2RfaW5mb3MucmVwbGFjZSgvXFxeTi9naSwgVU5JVF9TRVBBUkFUT1IpO1xuICAgICAgICAgICAgZm9ybS5pbm5lckhUTUwgPSBmb3JtLmlubmVySFRNTCArXG4gICAgICAgICAgICBgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGF5X21vZFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEucGF5X21vZH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImRlbGlfdGVybVwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuZGVsaV90ZXJtfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmN2cl9uYW1lXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5yY3ZyX25hbWV9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJyY3ZyX3RlbDFcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnJjdnJfdGVsMX1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInJjdnJfdGVsMlwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEucmN2cl90ZWwyfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmN2cl9tYWlsXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5yY3ZyX21haWx9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJyY3ZyX3ppcHhcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnJjdnJfemlweH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInJjdnJfYWRkMVwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEucmN2cl9hZGQxfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmN2cl9hZGQyXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5yY3ZyX2FkZDJ9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJiYXNrX2NudHhcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmJhc2tfY250eH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImdvb2RfaW5mb1wiIHZhbHVlPVwiJHtnb29kX2luZm9zfVwiPmA7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIF9nb0tha2FvUGF5UG9wdXAgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIGFwcHJvdmVVcmwgPSByZXNwb25zZS5yZXR1cm5Vcmw7XG4gICAgICAgIGlmIChfaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgbG9jYXRpb24ucmVwbGFjZShhcHByb3ZlVXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBrYWthb1BvcHVwID0gd2luZG93Lm9wZW4oYCR7YXBwcm92ZVVybH1gLCAn7Lm07Lm07Jik7Y6Y7J20IOqwhO2OuOqysOygnCcsIFwid2lkdGg9NDIwcHgsaGVpZ2h0PTUzMHB4XCIpO1xuICAgICAgICAgICAgaWYgKCFrYWthb1BvcHVwKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ+2MneyXhSDssKjri6gg7Jes67aA66W8IO2ZleyduO2VmOyXrCDso7zsi5zquLAg67CU656N64uI64ukLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBfZ29MR1VQbHVzUHJvYyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHJlc3BvbnNlLmV4dHJhRGF0YTtcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgZm9ybS5tZXRob2QgPSAncG9zdCc7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBrZXkpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGZvcm1EYXRhW2tleV0pO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgd2luZG93Lm9wZW5YcGF5KGZvcm0sIGZvcm1EYXRhLkNTVF9QTEFURk9STSwgZm9ybURhdGEuTEdEX1dJTkRPV19UWVBFLCBudWxsLCAnJywgJycpO1xuICAgIH07XG5cbiAgICB2YXIgX2dvQ2hhaVByb2MgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBDaGFpUGF5bWVudC5jaGVja291dCh7XG4gICAgICAgICAgICBwdWJsaWNBUElLZXk6IHJlc3BvbnNlLmtleSxcbiAgICAgICAgICAgIHBheW1lbnRJZDogcmVzcG9uc2UuZXh0cmFEYXRhLnBheW1lbnRJZCxcbiAgICAgICAgICAgIHJldHVyblVybDogX2dldENvbmZpcm1VcmxXaXRoT3JkZXJTaGVldE5vKCksXG4gICAgICAgICAgICBpZGVtcG90ZW5jeUtleTogcmVzcG9uc2UuZXh0cmFEYXRhLmlkZW1wb3RlbmN5S2V5LFxuICAgICAgICAgICAgbW9kZTogX3Byb2ZpbGUuQ0hBSV9NT0RFXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBfZ29OYXZlckVhc3lQYXkgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHNka0NyZWF0ZUtleSA9IHJlc3BvbnNlLmV4dHJhRGF0YS5zZGtDcmVhdGVLZXk7XG4gICAgICAgIHNka0NyZWF0ZUtleS5vcGVuVHlwZSA9ICdwYWdlJztcbiAgICAgICAgdmFyIG9QYXkgPSBOYXZlci5QYXkuY3JlYXRlKHJlc3BvbnNlLmV4dHJhRGF0YS5zZGtDcmVhdGVLZXkpO1xuICAgICAgICBvUGF5Lm9wZW4ocmVzcG9uc2UuZXh0cmFEYXRhLnNka1BhcmFtKTtcbiAgICB9O1xuXG4gICAgdmFyIF9nb1NtYXJ0cm9Qcm9jID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSByZXNwb25zZS5leHRyYURhdGE7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIGZvcm0uaWQgPSAnc21hcnRyb0Zvcm0nO1xuICAgICAgICBmb3JtLm1ldGhvZCA9ICdwb3N0JztcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdvcmRlclNoZWV0Tm8nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGtleSk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZm9ybURhdGFba2V5XSk7XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBzbWFydHJvcGF5LmluaXQoe1xuICAgICAgICAgICAgbW9kZTogX3Byb2ZpbGUuU01BUlRST19QQVlfTU9ERVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoX2lzTW9iaWxlKSB7XG4gICAgICAgICAgICBzbWFydHJvcGF5LnBheW1lbnQoe1xuICAgICAgICAgICAgICAgIEZvcm1JZCA6ICdzbWFydHJvRm9ybScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNtYXJ0cm9wYXkucGF5bWVudCh7XG4gICAgICAgICAgICAgICAgRm9ybUlkOiAnc21hcnRyb0Zvcm0nLFxuICAgICAgICAgICAgICAgIENhbGxiYWNrOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxsQmFja0Zvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrRm9ybS5tZXRob2QgPSAncG9zdCc7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrRm9ybS5hY3Rpb24gPSByZXNwb25zZS5leHRyYURhdGEuUmV0dXJuVXJsO1xuICAgICAgICAgICAgICAgICAgICBjYWxsQmFja0Zvcm0uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJvcmRlck5vXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5Nb2lkfVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJUaWRcIiB2YWx1ZT1cIiR7cmVzLlRpZH1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiVHJBdXRoS2V5XCIgdmFsdWU9XCIke3Jlcy5UckF1dGhLZXl9XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIm9yZGVyU2hlZXROb1wiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEub3JkZXJTaGVldE5vfVwiPlxuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FsbEJhY2tGb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2tGb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBfdXJscGFyYW0gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFxcXD8mXScgKyBuYW1lICsgJz0oW14mI10qKScpO1xuICAgICAgICB2YXIgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cyA9PSBudWxsID8gbnVsbCA6IHJlc3VsdHNbMV07XG4gICAgfTtcblxuICAgIHZhciBfcHJvY2Vzc0RhdGFKc29uID0gZnVuY3Rpb24gKGRhdGFKc29uKSB7XG4gICAgICAgIF9jdXJyZW50UGdUeXBlID0gZGF0YUpzb24ucGdUeXBlO1xuICAgICAgICBkYXRhSnNvbi5jbGllbnRSZXR1cm5VcmwgPSBfY2xpZW50UmV0dXJuVXJsO1xuICAgICAgICByZXR1cm4gZGF0YUpzb247XG4gICAgfTtcblxuICAgIHZhciBfbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2RvdWJsZUNhbGxCbG9ja2VyID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIF91bkxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9kb3VibGVDYWxsQmxvY2tlciA9IGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgX2lzTG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kb3VibGVDYWxsQmxvY2tlcjtcbiAgICB9O1xuXG4gICAgY29uc3QgX2FqYXhTdWNjZXNzQ2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIF91bkxvY2soKTtcbiAgICAgICAgX2NvbmZpcm1VcmwgPSByZXN1bHQuY29uZmlybVVybDtcbiAgICAgICAgc3dpdGNoIChyZXN1bHQucGdUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdLQ1AnOlxuICAgICAgICAgICAgICAgIGlmIChfaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBfZ29Ub0tjcFVybChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9zaG93S2NwTGF5ZXIocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQQVlDTyc6XG4gICAgICAgICAgICAgICAgaWYgKF9pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UocmVzdWx0LnJldHVyblVybCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWNvV2luZG93ID0gd2luZG93Lm9wZW4ocmVzdWx0LnJldHVyblVybCwgXCJQQVlDT+qwhO2OuOqysOygnFwiLCBcIndpZHRoPTcyMHB4LGhlaWdodD02ODBweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXljb1dpbmRvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLtjJ3sl4Ug7LCo64uoIOyXrOu2gOulvCDtmZXsnbjtlZjsl6wg7KO87Iuc6riwIOuwlOuejeuLiOuLpC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTVFJJUEUnOlxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoX2dldENvbmZpcm1VcmxXaXRoT3JkZXJTaGVldE5vKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSU5JQ0lTJzpcbiAgICAgICAgICAgICAgICBpZiAoX2lzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX2dvSW5pY2lzUHJvY0Zvck1vYmlsZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9nb0luaWNpc1Byb2NGb3JQYyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ05BVkVSX1BBWSc6XG4gICAgICAgICAgICAgICAgX2dvTmF2ZXJQYXlQb3B1cChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTElJVk1BVEUnOlxuICAgICAgICAgICAgICAgIF9nb0xpaXZtYXRlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdLQUtBT19QQVknOlxuICAgICAgICAgICAgICAgIF9nb0tha2FvUGF5UG9wdXAocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ05BVkVSX0VBU1lfUEFZJzpcbiAgICAgICAgICAgICAgICBfZ29OYXZlckVhc3lQYXkocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xHX1VfUExVUyc6XG4gICAgICAgICAgICBjYXNlICdUT1NTX1BBWU1FTlRTJzpcbiAgICAgICAgICAgICAgICBfZ29MR1VQbHVzUHJvYyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ0hBSSc6XG4gICAgICAgICAgICAgICAgX2dvQ2hhaVByb2MocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NNQVJUUk9fUEFZJzpcbiAgICAgICAgICAgICAgICBfZ29TbWFydHJvUHJvYyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTk9ORSc6XG4gICAgICAgICAgICAgICAgX2N1cnJlbnRQZ1R5cGUgPSByZXN1bHQucGdUeXBlO1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoX2dldENvbmZpcm1VcmxXaXRoT3JkZXJTaGVldE5vKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfQ09ERS5JTlZBTElEX1BHX1RZUEUocmVzdWx0LnBnVHlwZSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IF9yZWN1cnJpbmdQYXltZW50QWpheFN1Y2Nlc3NDYWxsYmFjayA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBfdW5Mb2NrKCk7XG4gICAgICAgIHN3aXRjaCAocmVzdWx0LnBnVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnS0NQJzpcbiAgICAgICAgICAgICAgICBfY29uZmlybVVybCA9IHJlc3VsdC5jb25maXJtVXJsXG4gICAgICAgICAgICAgICAgaWYgKF9pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIF9nb1RvS2NwUmVjdXJyaW5nUGF5bWVudFVybChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9zaG93UmVjdXJyaW5nUGF5bWVudEtjcExheWVyKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfQ09ERS5JTlZBTElEX1BHX1RZUEUocmVzdWx0LnBnVHlwZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9nb1RvS2NwUmVjdXJyaW5nUGF5bWVudFVybCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrY3BGb3JtJyk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdpZCcsICdrY3BGb3JtJyk7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX3NlbGYnKTtcbiAgICAgICAgZm9ybS5hY3Rpb24gPSByZXNwb25zZS5leHRyYURhdGEuUGF5VXJsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBmb3JtLmlubmVySFRNTCA9IGBcblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInJlcV90eFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEucmVxX3R4fVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwia2NwX2dyb3VwX2lkXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5rY3Bncm91cF9pZH1cIj4gPCEtLSDrqqjrsJTsnbzsnYAga2NwX2dyb3VwX2lkIC0tPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic2hvcF9uYW1lXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5zaG9wX25hbWV9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJrY3BfYmF0aF9pbmZvX3ZpZXdcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmtjcF9iYXRoX2luZm9fdmlld31cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImFwcHJvdmFsX2tleVwiIGlkPVwiYXBwcm92YWxcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmFwcHJvdmFsX2tleX1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNpdGVfY2RcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnNpdGVfY2R9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwYXlfbWV0aG9kXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5wYXlfbWV0aG9kfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwib3Jkcl9pZHh4XCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5vcmRyX2lkeHh9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjdXJyZW5jeVwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuY3VycmVuY3l9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJnb29kX21ueVwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuZ29vZF9tbnl9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJ0cmFjZU5vXCIgaWQ9XCJ0cmFjZU5vXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS50cmFjZU5vfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiUmV0X1VSTFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuUmV0X1VSTH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIlBheVVybFwiICBpZD1cIlBheVVybFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuUGF5VXJsfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiZ29vZF9uYW1lXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5nb29kX25hbWV9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJlc2N3X3VzZWRcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmVzY3dfdXNlZH1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIkFjdGlvblJlc3VsdFwiIHZhbHVlPVwiJHtyZXNwb25zZS5leHRyYURhdGEuQWN0aW9uUmVzdWx0fVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGFyYW1fb3B0XzFcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnBhcmFtX29wdF8xfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGFyYW1fb3B0XzJcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnBhcmFtX29wdF8yfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicGFyYW1fb3B0XzNcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLnBhcmFtX29wdF8zfVwiPlxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiYnV5cl9uYW1lXCIgdmFsdWU9XCIke3Jlc3BvbnNlLmV4dHJhRGF0YS5idXlyX25hbWV9XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJnb29kX2V4cHJcIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmdvb2RfZXhwcn1cIj5cblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImJhdGNoX2NhcmRub19yZXR1cm5feW5cIiB2YWx1ZT1cIiR7cmVzcG9uc2UuZXh0cmFEYXRhLmJhdGNoX2NhcmRub19yZXR1cm5feW59XCI+XG5cdFx0XHRcdFx0XHRgO1xuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBfYWpheEZhaWxDYWxsYmFjayA9IGZ1bmN0aW9uIChzdGF0dXMsIHJlc3VsdCkge1xuICAgICAgICBfdW5Mb2NrKCk7XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIDQwMDpcbiAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgICAgIGFsZXJ0KCfroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukLicpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign66Gc6re47J247J20IO2VhOyalO2VqeuLiOuLpC4nKTtcbiAgICAgICAgICAgIGNhc2UgNDA1OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9DT0RFLk1FVEhPRF9OT1RfQUxMT1dFRCk7XG4gICAgICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgY29kZTogJHtyZXN1bHQuY29kZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgZGF0YTogJHtyZXN1bHQuZGF0YX1gKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgbWVzc2FnZTogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfQ09ERS5DT01NT05fRVJST1IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBfcmVnaXNlck5hdmVyUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBfbmF2ZXJQYXJhbXMgPSBwYXJhbXM7XG4gICAgfTtcbiAgICBjb25zdCBfZ2V0TmF2ZXJQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGxldCBwcm9kdWN0cyA9IFtdO1xuICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IF9uYXZlclBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyAgICAgbGV0IGVsZW1lbnQgPSByZXN1bHRbX25hdmVyUGFyYW1zLnByb2R1Y3RzW2ldLnByb2R1Y3ROb10gPT0gdW5kZWZpbmVkID8ge1xuICAgICAgICAvLyAgICAgICAgIHByb2R1Y3RObzogX25hdmVyUGFyYW1zLnByb2R1Y3RzW2ldLnByb2R1Y3RObywgb3B0aW9uczogW11cbiAgICAgICAgLy8gICAgIH0gOiByZXN1bHRbX25hdmVyUGFyYW1zLnByb2R1Y3RzW2ldLnByb2R1Y3ROb107XG4gICAgICAgIC8vICAgICBlbGVtZW50Lm9wdGlvbnMucHVzaCh7XG4gICAgICAgIC8vICAgICAgICAgb3B0aW9uTm86XG4gICAgICAgIC8vICAgICAgICAgX25hdmVyUGFyYW1zLnByb2R1Y3RzW2ldLm9wdGlvbk5vLFxuICAgICAgICAvLyAgICAgICAgIG9yZGVyQ250OlxuICAgICAgICAvLyAgICAgICAgIF9uYXZlclBhcmFtcy5wcm9kdWN0c1tpXS5vcmRlckNudFxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICAgIDtcbiAgICAgICAgLy8gICAgIHByb2R1Y3RzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIF9uYXZlclBhcmFtcztcbiAgICB9O1xuICAgIGNvbnN0IF9nZXROYXZlclZhbGlkYXRlUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX25hdmVyUGFyYW1zLml0ZW1zO1xuICAgIH07XG4gICAgY29uc3QgX3ZhbGlkYXRlTmF2ZXJQYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbigncHV0JywgYCR7X3Byb2ZpbGUuQVBJX0dBVEVXQVlfVVJMfS9wYXltZW50cy9uYXZlci92YWxpZGF0ZWAsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignVmVyc2lvbicsIF92ZXJzaW9uKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdwbGF0Zm9ybScsIF9wbGF0Zm9ybSk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignY2xpZW50SWQnLCBfY2xpZW50SWQpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2RhdGFUeXBlJywgJ2pzb24nKTtcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkgeyAvLyBGSVhNRSDsvZzrsLEg7ZWE7JqU7ZWc6rCAP1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRKc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hamF4RmFpbENhbGxiYWNrKHhoci5zdGF0dXMsIHJlc3VsdEpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3VsdEpzb24pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoX2dldE5hdmVyVmFsaWRhdGVQYXJhbXMoKSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgX3JlZ2lzdGVyTmF2ZXJQYXlPcmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbigncG9zdCcsIGAke19wcm9maWxlLkFQSV9HQVRFV0FZX1VSTH0vcGF5bWVudHMvbmF2ZXIvb3JkZXJzaGVldGAsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignVmVyc2lvbicsIF92ZXJzaW9uKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdwbGF0Zm9ybScsIF9wbGF0Zm9ybSk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignY2xpZW50SWQnLCBfY2xpZW50SWQpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2FjY2Vzc1Rva2VuJywgX2FjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdkYXRhVHlwZScsICdqc29uJyk7XG4gICAgICAgICAgICAvLyB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5zdGF0dXMsIHhoci5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRKc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hamF4RmFpbENhbGxiYWNrKHhoci5zdGF0dXMsIHJlc3VsdEpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3VsdEpzb24pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHBhcmFtID0gX2dldE5hdmVyUGFyYW1zKCk7XG4gICAgICAgICAgICBwYXJhbS5uYUNvID0gZ2V0Q29va2llKFwiTkFfQ09cIik7XG4gICAgICAgICAgICBwYXJhbS5udmFkaWQgPSBnZXRDb29raWUoXCJOVkFESURcIik7XG4gICAgICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShfZ2V0TmF2ZXJQYXJhbXMoKSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldENvb2tpZSA9IGZ1bmN0aW9uIChjb29raWVOYW1lKSB7XG4gICAgICAgIGxldCBjb29raWVWYWx1ZSA9IG51bGw7XG4gICAgICAgIGlmIChkb2N1bWVudC5jb29raWUpIHtcbiAgICAgICAgICAgIGxldCBhcnJheSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgoZXNjYXBlKGNvb2tpZU5hbWUpICsgJz0nKSk7XG4gICAgICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBsZXQgYXJyYXlTdWIgPSBhcnJheVsxXS5zcGxpdCgnOycpO1xuICAgICAgICAgICAgICAgIGNvb2tpZVZhbHVlID0gdW5lc2NhcGUoYXJyYXlTdWJbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb29raWVWYWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBfcmVnaXN0ZXJOYXZlclBheVdpc2hMaXN0ID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vcGVuKCdwb3N0JywgYCR7X3Byb2ZpbGUuQVBJX0dBVEVXQVlfVVJMfS9wYXltZW50cy9uYXZlci93aXNoLWxpc3RgLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1ZlcnNpb24nLCBfdmVyc2lvbik7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcigncGxhdGZvcm0nLCBfcGxhdGZvcm0pO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NsaWVudElkJywgX2NsaWVudElkKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdkYXRhVHlwZScsICdqc29uJyk7XG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIuc3RhdHVzLCB4aHIucmVzcG9uc2VUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHhoci5yZXNwb25zZVRleHQsIG51bGwsICd3aWR0aD00MDAsIGhlaWdodD0zMDAsIGxlZnQ9MTAwLCB0b3A9NTAnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRKc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hamF4RmFpbENhbGxiYWNrKHhoci5zdGF0dXMsIHJlc3VsdEpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3VsdEpzb24pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwYXJhbSkpXG4gICAgICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShwYXJhbSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzZXJ2YXRpb246IGZ1bmN0aW9uIChkYXRhSnNvbiwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9zZXRPcmRlclNoZWV0Tm8oZGF0YUpzb24ub3JkZXJTaGVldE5vKTtcbiAgICAgICAgICAgIF92YWxpZFJlc2VydmF0aW9uKGRhdGFKc29uKTtcbiAgICAgICAgICAgIF9wcm9jZXNzRGF0YUpzb24oZGF0YUpzb24pO1xuXG4gICAgICAgICAgICBpZiAoX2lzTG9jaygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfbG9jaygpO1xuXG4gICAgICAgICAgICB2YXIgdXJsID0gX2dldFJlc2VydmF0aW9uVXJsKCk7XG5cbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1ZlcnNpb24nLCBfdmVyc2lvbik7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcigncGxhdGZvcm0nLCBfcGxhdGZvcm0pO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NsaWVudElkJywgX2NsaWVudElkKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdhY2Nlc3NUb2tlbicsIF9hY2Nlc3NUb2tlbik7XG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHRKc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhyZXN1bHRKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYWpheFN1Y2Nlc3NDYWxsYmFjayhyZXN1bHRKc29uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsQ2FsbGJhY2socmVzdWx0SnNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2FqYXhGYWlsQ2FsbGJhY2soeGhyLnN0YXR1cywgcmVzdWx0SnNvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YUpzb24pKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZXNlcnZlUmVjdXJyaW5nUGF5bWVudEtleShyZWN1cnJpbmdQYXltZW50UmVkaXJlY3RVcmwsIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbENhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoX2lzTG9jaygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2xvY2soKTtcbiAgICAgICAgICAgIF9yZWN1cnJpbmdQYXltZW50UmVkaXJlY3RVcmwgPSByZWN1cnJpbmdQYXltZW50UmVkaXJlY3RVcmxcblxuICAgICAgICAgICAgdmFyIHVybCA9IF9nZXRSZWN1cnJpbmdQYXltZW50UmVzZXJ2ZVVybCgpO1xuXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdWZXJzaW9uJywgX3ZlcnNpb24pO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ3BsYXRmb3JtJywgX3BsYXRmb3JtKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdjbGllbnRJZCcsIF9jbGllbnRJZCk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignYWNjZXNzVG9rZW4nLCBfYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0SnNvbiA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzdWx0SnNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3JlY3VycmluZ1BheW1lbnRBamF4U3VjY2Vzc0NhbGxiYWNrKHJlc3VsdEpzb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWpheEZhaWxDYWxsYmFjayh4aHIuc3RhdHVzLCByZXN1bHRKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGV4Y2VwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWlsQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsQ2FsbGJhY2socmVzdWx0SnNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBtYWtlQ29uZmlybVJlcXVlc3QoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgZGF0YS5tYWxsTm8gPSAxO1xuICAgICAgICAgICAgZGF0YS5vcmRlclNoZWV0Tm8gPSBfdXJscGFyYW0oJ29yZGVyU2hlZXRObycsICcnKTtcbiAgICAgICAgICAgIGRhdGEucGdUeXBlID0gX3VybHBhcmFtKCdwZ1R5cGUnKTtcbiAgICAgICAgICAgIGRhdGEucGF5VHlwZSA9IF91cmxwYXJhbSgncGF5VHlwZScpO1xuICAgICAgICAgICAgZGF0YS5wYXltZW50Q2VydGlmeVRva2VuID0gZGVjb2RlVVJJQ29tcG9uZW50KF91cmxwYXJhbSgncGF5bWVudENlcnRpZnlUb2tlbicpKTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBheW1lbnRDZXJ0aWZ5VG9rZW4gPT0gXCJudWxsXCIgfHwgZGF0YS5wYXltZW50Q2VydGlmeVRva2VuID09IG51bGwgfHwgZGF0YS5wYXltZW50Q2VydGlmeVRva2VuID09XG4gICAgICAgICAgICBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wYXltZW50Q2VydGlmeVRva2VuID0gZGVjb2RlVVJJQ29tcG9uZW50KF91cmxwYXJhbSgnUGF5ZXJJRCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBnVHlwZSA9IF91cmxwYXJhbSgncGdUeXBlJyk7XG5cbiAgICAgICAgICAgIC8vIEtDUCDsspjrpqxcbiAgICAgICAgICAgIGlmIChfdXJscGFyYW0oJ3BnVHlwZScpID09ICdLQ1AnKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPIOyXrOq4sCDsi5zsoJDsl5DshJwgbW9iaWxl7J247KeA64qUIOyVjCDsiJgg7JeG7J2EIOqygyDqsJnsnYxcbiAgICAgICAgICAgICAgICBpZiAoX2lzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tZXRob2QgPSAnR0VUJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnBheW1lbnRDZXJ0aWZ5VG9rZW4gPSBfdXJscGFyYW0oJ2VuY19pbmZvJyk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZW5jcnlwdGVkID0gX3VybHBhcmFtKCdlbmNfZGF0YScpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnJlc3VsdENvZGUgPSBfdXJscGFyYW0oJ3RyYW5fY2QnKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VQYXlNZXRob2QgPSBfdXJscGFyYW0oJ3VzZV9wYXlfbWV0aG9kJyk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY2FzaFluID0gX3VybHBhcmFtKCdjYXNoX3luJyk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY2FzaFRyQ29kZSA9IF91cmxwYXJhbSgnY2FzaFRyQ29kZScpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmtjcFBheVR5cGUgPSBfdXJscGFyYW0oJ3BheV9tZXRob2QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+y5tOy5tOyYpCDtjpjsnbRcbiAgICAgICAgICAgIGlmIChfdXJscGFyYW0oJ3BnVHlwZScpID09ICdLQUtBT19QQVknKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wYXltZW50Q2VydGlmeVRva2VuID0gZGVjb2RlVVJJQ29tcG9uZW50KF91cmxwYXJhbSgncGdfdG9rZW4nKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogcmVkaXJlY3QgdXJs7J2EIOyEpOygle2VnCBQR+yduCDqsr3smrAg7Zi47Lac7ZWc64ukXG4gICAgICAgICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIGZhaWxDYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29uZmlybTogZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbENhbGxiYWNrKSB7XG5cbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29uZmlndXJhdGlvbjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBsYXRmb3JtID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfcGxhdGZvcm0gPSAnUEMnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcGxhdGZvcm0gPSBvcHRpb25zLnBsYXRmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NsaWVudElkID0gb3B0aW9ucy5jbGllbnRJZDtcbiAgICAgICAgICAgIF9jbGllbnRSZXR1cm5VcmwgPSBvcHRpb25zLmNvbmZpcm1Vcmw7XG4gICAgICAgICAgICBfYWNjZXNzVG9rZW4gPSBvcHRpb25zLmFjY2Vzc1Rva2VuO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDb25maXJtVXJsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2dldENvbmZpcm1VcmxXaXRoT3JkZXJTaGVldE5vKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEN1cnJlbnRQZ1R5cGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY3VycmVudFBnVHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdE5hdmVyUGF5T3JkZXI6IChwYXJhbSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtLCBzdWNjZXNzQ2FsbGJhY2ssIGZhaWxDYWxsYmFjayk7XG4gICAgICAgICAgICBfcmVnaXNlck5hdmVyUGFyYW1zKHBhcmFtKTtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oX3ZhbGlkYXRlTmF2ZXJQYXkpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oX3JlZ2lzdGVyTmF2ZXJQYXlPcmRlcilcbiAgICAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzQ2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgLmNhdGNoKGZhaWxDYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVlc3ROYXZlclBheVdpc2hMaXN0OiAocGFyYW0sIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbENhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJhbSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spO1xuICAgICAgICAgICAgX3JlZ2lzdGVyTmF2ZXJQYXlXaXNoTGlzdChwYXJhbSkudGhlbihzdWNjZXNzQ2FsbGJhY2spLmNhdGNoKGZhaWxDYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFJlY3VycmluZ1BheW1lbnRSZWRpcmVjdFVybDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlY3VycmluZ1BheW1lbnRSZWRpcmVjdFVybFxuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGRlZigpIHtcbiAgICBjb25zb2xlLmxvZyhcIlFRUVwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2NwRm9ybSgpIHtcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICBmb3JtLmlkID0gJ2NvbmZpcm1faW5mbyc7XG4gICAgZm9ybS5tZXRob2QgPSAncG9zdCc7XG4gICAgZm9ybS5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmVxX3R4XCIgdmFsdWU9XCJwYXlcIiAvPlxuICAgIFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicXVvdGFvcHRcIiB2YWx1ZT1cIlwiLz5cblx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjdXJyZW5jeVwiIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIm1vZHVsZV90eXBlXCIgICAgIHZhbHVlPVwiMDFcIi8+XG5cdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmVzX2NkXCIgICAgICAgICAgdmFsdWU9XCJcIi8+XG5cdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmVzX21zZ1wiICAgICAgICAgdmFsdWU9XCJcIi8+XG5cdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwidHJhY2Vfbm9cIiAgICAgICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImVuY19pbmZvXCIgICAgICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImVuY19kYXRhXCIgICAgICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInJldF9wYXlfbWV0aG9kXCIgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInRyYW5fY2RcIiAgICAgICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInVzZV9wYXlfbWV0aG9kXCIgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIm9yZHJfY2hrXCIgICAgICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNhc2hfeW5cIiAgICAgICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNhc2hfdHJfY29kZVwiICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNhc2hfaWRfaW5mb1wiICAgIHZhbHVlPVwiXCIvPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImdvb2RfZXhwclwiIHZhbHVlPVwiMFwiPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInBsYXRmb3JtVHlwZVwiIHZhbHVlPVwiUENcIj5cblx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJvcmRyX2lkeHhcIiB2YWx1ZT1cIlwiPlxuXHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImJ1eXJfbmFtZVwiIHZhbHVlPVwiXCI+XG5cdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY2FyZF9tYXNrX25vXCIgdmFsdWU9XCJcIj5cblx0XHRcdFx0XHRgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgcmV0dXJuIGZvcm07XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUtjcEZvcm0oZnJtKSB7XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgcXVlcnlTdHJpbmcyO1xuXG4gICAgLy8gVE9ETyA6XG4gICAgcXVlcnlTdHJpbmcyID0gZnJtLmVsZW1lbnRzWzBdLm5hbWUgKyAnPScgKyBmcm0uZWxlbWVudHNbMF0udmFsdWU7XG4gICAgZm9yIChpID0gMTsgaSA8IGZybS5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBxdWVyeVN0cmluZzIgPSBxdWVyeVN0cmluZzIgKyAnJicgKyBmcm0uZWxlbWVudHNbaV0ubmFtZSArICc9JyArIGZybS5lbGVtZW50c1tpXS52YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgcXVlcnlTdHJpbmcgPSAnZW5jX2luZm89JyArIGZybS5lbmNfaW5mby52YWx1ZTtcbiAgICBxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nICsgJyZ0cmFuX2NkPScgKyBmcm0udHJhbl9jZC52YWx1ZTtcbiAgICBxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nICsgJyZ1c2VfcGF5X21ldGhvZD0nICsgZnJtLnVzZV9wYXlfbWV0aG9kLnZhbHVlO1xuICAgIHF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmcgKyAnJmVuY19kYXRhPScgKyBmcm0uZW5jX2RhdGEudmFsdWU7XG4gICAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZyArICcmY2FzaF95bj0nICsgZnJtLmNhc2hfeW4udmFsdWU7XG4gICAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZyArICcmY2FzaF90cl9jb2RlPScgKyBmcm0uY2FzaF90cl9jb2RlLnZhbHVlO1xuICAgIHF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmcgKyAnJm9yZGVyU2hlZXRObz0nICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZGVyU2hlZXRObycpLnZhbHVlO1xuICAgIHF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmcgKyAnJnBnVHlwZT0nICsgd2luZG93Lk5DUFBheS5nZXRDdXJyZW50UGdUeXBlKCk7XG4gICAgcmV0dXJuIHF1ZXJ5U3RyaW5nO1xufVxuXG4vKipcbiAqIEtDUCDqsrDsoJzssL0g7ISx6rO17IucIO2YuOy2nOuQmOuKlCDsvZzrsLEgKEtDUCDsoJzqs7UpXG4gKi9cbndpbmRvdy5tX0NvbXBsZXRlcGF5bWVudCA9IGZ1bmN0aW9uIChGb3JtT3JKc29uLCBjbG9zZUV2ZW50KSB7XG4gICAgdmFyIGNvbmZpcm1VUkwgPSB3aW5kb3cuTkNQUGF5LmdldENvbmZpcm1VcmwoKTtcblxuICAgIHZhciBmcm0gPSBjcmVhdGVLY3BGb3JtKCk7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8qIEZvcm1Pckpzb27snYAg6rCA66e57KCQIOyehOydmCDtmZzsmqkg6riI7KeAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgLyogZnJtIOqwkuyXkCBGb3JtT3JKc29uIOqwkuydtCDshKTsoJUg65CoIGZybSDqsJLsnLzroZwg7Zmc7JqpIO2VmOyFlOyVvCDrkKnri4jri6QuICAqL1xuICAgIC8qIEZvcm1Pckpzb24g6rCS7J2EIO2ZnOyaqSDtlZjsi5zroKTrqbQg6riw7Iig7KeA7JuQ7YyA7Jy866GcIOusuOydmOuwlOuejeuLiOuLpC4gICAgICAgKi9cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgR2V0RmllbGQoZnJtLCBGb3JtT3JKc29uKTtcbiAgICBpZiAoZnJtLnJlc19jZC52YWx1ZSA9PSBcIjAwMDBcIikge1xuICAgICAgICBmcm0uYWN0aW9uID0gY29uZmlybVVSTDtcbiAgICAgICAgaWYgKE5DUFBheS5nZXRSZWN1cnJpbmdQYXltZW50UmVkaXJlY3RVcmwoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBcInJlY3VycmluZ1BheW1lbnRSZWRpcmVjdFVybFwiKTtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBOQ1BQYXkuZ2V0UmVjdXJyaW5nUGF5bWVudFJlZGlyZWN0VXJsKCkpO1xuICAgICAgICAgICAgZnJtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBmcm0uc3VibWl0KCk7XG4gICAgICAgIC8vIGNvbmZpcm0o7KO866y47JmE66OMKSBwYWdl66GcIOydtOuPme2VnOuLpC5cbiAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uID0gY29uZmlybVVSTCArICc/JyArIHNlcmlhbGl6ZUtjcEZvcm0oZnJtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChcIltcIiArIGZybS5yZXNfY2QudmFsdWUgKyBcIl0gXCIgKyBmcm0ucmVzX21zZy52YWx1ZSk7XG4gICAgICAgIC8vIFRPRE8gOiBlcnJvcl9jb2RlIOygkeq3vCDrqrvtlaguLiAtXy1cbiAgICAgICAgY2xvc2VFdmVudCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogTEcgVSBQTFVTIOyduOymneqysOqzvCDsspjrpqxcbiAqL1xud2luZG93LmNvbmZpcm1MR1VQbHVzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zdCByZXNlcnZlUmVzcG9uc2UgPSBlLmRhdGE7XG4gICAgaWYgKCFyZXNlcnZlUmVzcG9uc2UuaXNMR1VQbHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVzZXJ2ZVJlc3BvbnNlLkxHRF9SRVNQQ09ERSA9PT0gJzAwMDAnKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1VUkwgPSB3aW5kb3cuTkNQUGF5LmdldENvbmZpcm1VcmwoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSByZXNlcnZlUmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIGZvcm0uYWN0aW9uID0gY29uZmlybVVSTDtcbiAgICAgICAgZm9ybS5tZXRob2QgPSAncG9zdCc7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBrZXkpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGZvcm1EYXRhW2tleV0pO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgd2luZG93LmNsb3NlSWZyYW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETyDsgqzsmqnsnpAg7Leo7IaMIOyymOumrCDsi5wg7L2U65OcIO2ZleyduCDtm4QgYWxlcnQg7JWI652E7JuM7KSY64+EIOuQoOuTry5cbiAgICAgICAgd2luZG93LmFsZXJ0KHJlc2VydmVSZXNwb25zZS5MR0RfUkVTUE1TRyk7XG4gICAgICAgIHdpbmRvdy5jbG9zZUlmcmFtZSgpO1xuICAgIH1cbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgd2luZG93LmNvbmZpcm1MR1VQbHVzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0FBTUE7Ozs7O0FBS0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQWRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2REE7QUF5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7OztBQUtBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4SkE7QUEwSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);